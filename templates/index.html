{% extends "base.html" %}

{% block title %}МЕТРИКС - Крепежные изделия в Екатеринбурге{% endblock %}

{% block content %}
<!-- Hero Section with Full Width Image -->
<section class="hero-section position-relative" style="height: 60vh; background: url('/static/images/index.jpg') center/cover no-repeat;">
    <div class="hero-overlay position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0,0,0,0.4);"></div>
    <div class="container h-100 position-relative">
        <div class="row h-100 align-items-center">
            <div class="col-lg-8 col-md-10 mx-auto text-center">
                <h1 class="display-3 fw-bold mb-4 text-white">
                    МЕТРИКС
                    <span class="text-primary d-block">Крепежные изделия</span>
                </h1>
                <p class="lead mb-4 text-white">
                    Профессиональные решения для строительства и монтажа. 
                    Качественный крепеж от производителя в Екатеринбурге.
                </p>
                <div class="d-flex flex-column flex-sm-row gap-3 mb-4 justify-content-center">
                    <a href="/catalog" class="btn btn-primary btn-lg">
                        <i class="bi bi-grid-3x3-gap-fill me-2"></i>Каталог
                    </a>
                    <a href="tel:+79001993969" class="btn btn-outline-light btn-lg">
                        <i class="bi bi-telephone-fill me-2"></i>Звонок
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Product Categories -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto fade-in">
                <h2 class="display-5 fw-bold mb-3">Каталог продукции</h2>
                <p class="lead text-muted">Основные позиции крепежных изделий</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-4 col-sm-6">
                <a href="/catalog?category=1" class="catalog-link">
                    <div class="catalog-item fade-in">
                        <div class="catalog-image">
                            <img src="/static/images/3.png" alt="Болты" class="img-fluid">
                        </div>
                        <div class="catalog-content">
                            <h5>Болты</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <a href="/catalog?category=2" class="catalog-link">
                    <div class="catalog-item fade-in">
                        <div class="catalog-image">
                            <img src="/static/images/4.jpg" alt="Гайки" class="img-fluid">
                        </div>
                        <div class="catalog-content">
                            <h5>Гайки</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <a href="/catalog?category=3" class="catalog-link">
                    <div class="catalog-item fade-in">
                        <div class="catalog-image">
                            <img src="/static/images/2.jpg" alt="Винты" class="img-fluid">
                        </div>
                        <div class="catalog-content">
                            <h5>Винты</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <a href="/catalog?category=4" class="catalog-link">
                    <div class="catalog-item fade-in">
                        <div class="catalog-image">
                            <img src="/static/images/1.jpg" alt="Саморезы" class="img-fluid">
                        </div>
                        <div class="catalog-content">
                            <h5>Саморезы</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <a href="/catalog?category=5" class="catalog-link">
                    <div class="catalog-item fade-in">
                        <div class="catalog-image">
                            <img src="/static/images/5.jpg" alt="Шайбы" class="img-fluid">
                        </div>
                        <div class="catalog-content">
                            <h5>Шайбы</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <a href="/catalog?category=6" class="catalog-link">
                    <div class="catalog-item fade-in">
                        <div class="catalog-image">
                            <img src="/static/images/6.jpg" alt="Шпильки" class="img-fluid">
                        </div>
                        <div class="catalog-content">
                            <h5>Шпильки</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <a href="/catalog?category=7" class="catalog-link">
                    <div class="catalog-item fade-in">
                        <div class="catalog-image">
                            <img src="/static/images/7.jpg" alt="Заклепки" class="img-fluid">
                        </div>
                        <div class="catalog-content">
                            <h5>Заклепки</h5>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <a href="/catalog?category=8" class="catalog-link">
                    <div class="catalog-item fade-in">
                        <div class="catalog-image">
                            <img src="/static/images/9.png" alt="Кронштейны" class="img-fluid">
                        </div>
                        <div class="catalog-content">
                            <h5>Кронштейны</h5>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        
        <div class="row mt-5">
            <div class="col-12 text-center">
                <a href="/catalog" class="btn btn-primary btn-lg">
                    <i class="bi bi-grid-3x3-gap-fill me-2"></i>Перейти в каталог
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Interactive Bolt Section -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-md-10 text-center">
                <h2 class="display-6 fw-bold mb-4">Фасадный крепёж нового поколения</h2>
                <p class="lead text-muted mb-4">Собственная разработка МЕТРИКС</p>
                
                <!-- Main product image with interactive hotspots -->
                <div class="position-relative bolt-display-container mb-4" style="height: 300px; height: 400px;">
                    <!-- Interactive hotspots that appear on hover -->
                    <div class="hotspot hotspot-1 d-none d-md-block" style="position: absolute; top: 20%; left: 20%;">
                        <div class="bg-warning rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; cursor: pointer;">
                            <i class="bi bi-plus text-white fs-4"></i>
                        </div>
                        <div class="hotspot-tooltip">
                            <div class="bg-dark text-white p-2 rounded">
                                <small>Инновационная технология производства</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hotspot hotspot-2 d-none d-md-block" style="position: absolute; bottom: 20%; left: 20%;">
                        <div class="bg-warning rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; cursor: pointer;">
                            <i class="bi bi-plus text-white fs-4"></i>
                        </div>
                        <div class="hotspot-tooltip">
                            <div class="bg-dark text-white p-2 rounded">
                                <small>Повышенная прочность и долговечность</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hotspot hotspot-3 d-none d-md-block" style="position: absolute; top: 50%; right: 20%;">
                        <div class="bg-warning rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; cursor: pointer;">
                            <i class="bi bi-plus text-white fs-4"></i>
                        </div>
                        <div class="hotspot-tooltip">
                            <div class="bg-dark text-white p-2 rounded">
                                <small>Универсальность применения</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Main bolt image -->
                    <img id="bolt-display" src="/static/images/bolts/bolt-silver.png" alt="Фасадный крепёж" class="img-fluid" style="max-height: 300px; max-height: 400px; width: auto;">
                </div>
                
                <!-- Color palette below the image -->
                <div class="colors-palette mb-4">
                    <h6 class="mb-3">Выберите цвет крепежа:</h6>
                    <div class="d-flex flex-wrap gap-2 justify-content-center">
                        <!-- Top row -->
                        <div class="color-item active" data-color="silver" style="background-color: #C0C0C0; border: 2px solid #007bff; width: 40px; height: 40px; border-radius: 50%; cursor: pointer;"></div>
                        <div class="color-item" data-color="yellow" style="background-color: #FFD700; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; border: 1px solid #dee2e6;"></div>
                        <div class="color-item" data-color="red" style="background-color: #DC3545; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; border: 1px solid #dee2e6;"></div>
                        <div class="color-item" data-color="black" style="background-color: #000000; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; border: 1px solid #dee2e6;"></div>
                        <div class="color-item" data-color="green" style="background-color: #28A745; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; border: 1px solid #dee2e6;"></div>
                    </div>
                    <div class="d-flex flex-wrap gap-2 justify-content-center mt-2">
                        <!-- Bottom row -->
                        <div class="color-item" data-color="white" style="background-color: #FFFFFF; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; border: 1px solid #dee2e6;"></div>
                        <div class="color-item" data-color="brown" style="background-color: #8B4513; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; border: 1px solid #dee2e6;"></div>
                        <div class="color-item" data-color="gold" style="background-color: #FFC107; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; border: 1px solid #dee2e6;"></div>
                        <div class="color-item" data-color="blue" style="background-color: #007BFF; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; border: 1px solid #dee2e6;"></div>
                    </div>
                </div>
                
                <!-- Order button -->
                <button class="btn btn-warning btn-lg px-4 px-md-5" style="background-color: #FFD700; border-color: #FFD700; color: #000;">
                    <i class="bi bi-cart-plus text-white me-2"></i>ЗАКАЗАТЬ ФАСАДНЫЙ КРЕПЁЖ
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto fade-in">
                <h2 class="display-5 fw-bold mb-3">Почему выбирают МЕТРИКС</h2>
                <p class="lead text-muted">Наши преимущества</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="feature-item text-center fade-in">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-award-fill text-primary"></i>
                    </div>
                    <h5>Качество</h5>
                    <p class="text-muted">Только сертифицированные материалы от проверенных производителей</p>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="feature-item text-center fade-in">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-truck text-primary"></i>
                    </div>
                    <h5>Быстрая доставка</h5>
                    <p class="text-muted">Доставка по Екатеринбургу в день заказа</p>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="feature-item text-center fade-in">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-currency-exchange text-primary"></i>
                    </div>
                    <h5>Конкурентные цены</h5>
                    <p class="text-muted">Прямые поставки от производителя без посредников</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How to Order Section -->
<section class="py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto fade-in">
                <h2 class="display-5 fw-bold mb-3">Как сделать заказ</h2>
                <p class="lead text-muted">Простая процедура оформления заявки</p>
                <div class="alert alert-info">
                    <i class="bi bi-info-circle me-2"></i>
                    <strong>Важно:</strong> Минимальный заказ составляет 100 штук
                </div>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="feature-item text-center fade-in">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-search text-primary"></i>
                    </div>
                    <h5>1. Выберите товар</h5>
                    <p class="text-muted">Просмотрите каталог и выберите нужные позиции</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="feature-item text-center fade-in">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-cart-plus text-primary"></i>
                    </div>
                    <h5>2. Добавьте в корзину</h5>
                    <p class="text-muted">Складывайте товары в корзину, настраивайте количество</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="feature-item text-center fade-in">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-send text-primary"></i>
                    </div>
                    <h5>3. Отправьте заявку</h5>
                    <p class="text-muted">Заполните форму с контактными данными и отправьте заявку</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="feature-item text-center fade-in">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-check-circle text-primary"></i>
                    </div>
                    <h5>4. Получите товар</h5>
                    <p class="text-muted">Доставка или самовывоз в удобное время</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="py-5" id="contacts">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 col-md-12 mb-4 mb-lg-0 fade-in-left">
                <h2 class="display-6 fw-bold mb-4">Свяжитесь с нами</h2>
                <p class="lead text-muted mb-4">
                    Получите консультацию по выбору крепежа и оформите заявку. 
                    Наши специалисты помогут подобрать оптимальное решение.
                </p>
                <div class="contact-info">
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-telephone-fill text-primary me-3 fs-4"></i>
                        <div>
                            <strong>Телефон:</strong><br>
                            <a href="tel:+79001993969" class="text-decoration-none">+7 (900) 199-39-69</a><br>
                            <a href="tel:+79012200265" class="text-decoration-none">+7 (901) 220-02-65</a><br>
                            <a href="tel:+73433616131" class="text-decoration-none">+7 (343) 361-61-31</a>
                        </div>
                    </div>
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-envelope-fill text-primary me-3 fs-4"></i>
                        <div>
                            <strong>Email:</strong><br>
                            <a href="mailto:metriks66@bk.ru" class="text-decoration-none">metriks66@bk.ru</a>
                        </div>
                    </div>
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-geo-alt-fill text-primary me-3 fs-4"></i>
                        <div>
                            <strong>Адрес склада:</strong><br>
                            г. Екатеринбург, ул. Горького, 26<br>
                            <small class="text-muted">Перед приездом просьба подтвердить готовность заказа к выдаче</small>
                        </div>
                    </div>
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-clock-fill text-primary me-3 fs-4"></i>
                        <div>
                            <strong>Режим работы:</strong><br>
                            <strong class="text-primary">Пн-Пт:</strong> 9:00 - 18:00<br>
                            <strong class="text-primary">Сб-Вс:</strong> По договоренности
                        </div>
                    </div>
                    <div class="d-flex align-items-start mb-3">
                        <i class="bi bi-info-circle-fill text-primary me-3 fs-4 mt-1"></i>
                        <div>
                            <strong>Важная информация:</strong><br>
                            <small class="text-muted">
                                Перед приездом на склад просьба подтвердить готовность вашего заказа к выдаче по телефону.
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-12 text-center fade-in-right">
                <div class="contact-map">
                    <h5 class="mb-3">Схема проезда к складу</h5>
                    <div class="map-container" style="height: 400px; border-radius: 15px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.15);">
                        <div id="map" style="width: 100%; height: 100%;"></div>
                    </div>
                    <div class="mt-3">
                        <div class="row">
                            <div class="col-6">
                                <a href="https://go.2gis.com/F2fUf" 
                                   target="_blank" 
                                   class="btn btn-outline-primary w-100">
                                    <i class="bi bi-geo-alt me-2"></i>Как добраться
                                </a>
                            </div>
                            <div class="col-6">
                                <a href="https://go.2gis.com/F2fUf" 
                                   target="_blank" 
                                   class="btn btn-outline-secondary w-100">
                                    <i class="bi bi-car-front me-2"></i>Маршрут
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Простая карта-заглушка с меткой metriks96
    const mapElement = document.getElementById('map');
    if (mapElement) {
        mapElement.innerHTML = `
            <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 2rem; cursor: pointer; transition: all 0.3s ease;" onclick="window.open('https://go.2gis.com/F2fUf', '_blank')" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
                <h4 class="text-primary mb-3">МЕТРИКС</h4>
                <p class="text-dark mb-2" style="font-size: 1.1rem; font-weight: 500;">Адрес склада:</p>
                <p class="text-muted mb-4">г. Екатеринбург<br>ул. Горького, 26</p>
                <div class="btn btn-primary">
                    Открыть карту 2ГИС
                </div>
            </div>
        `;
    }
    // Color palette functionality
    const colorItems = document.querySelectorAll('.color-item');
    const boltDisplay = document.getElementById('bolt-display');
    
    colorItems.forEach(item => {
        item.addEventListener('click', function() {
            // Remove active class from all items
            colorItems.forEach(i => i.style.border = '1px solid #dee2e6');
            
            // Add active class to clicked item
            this.style.border = '2px solid #007bff';
            
            // Change bolt color
            const color = this.dataset.color;
            boltDisplay.src = `/static/images/bolts/bolt-${color}.png`;
            
            // Add smooth transition
            boltDisplay.style.transition = 'opacity 0.3s ease';
            boltDisplay.style.opacity = '0';
            
            boltDisplay.onload = () => {
                boltDisplay.style.opacity = '1';
            };
        });
    });
    
    // Order button functionality
    const orderButton = document.querySelector('.btn-warning');
    if (orderButton) {
        orderButton.addEventListener('click', function() {
            // Add facade fastener to cart
            const facadeProduct = {
                id: 999,
                name: 'Фасадный крепёж нового поколения',
                image: '/static/images/bolts/bolt-silver.png',
                quantity: 1
            };
            
            if (window.metriksApp) {
                // Add to cart
                window.metriksApp.cart.push(facadeProduct);
                window.metriksApp.saveCart();
                window.metriksApp.updateCartCount();
                
                // Show notification
                window.metriksApp.showNotification('Фасадный крепёж добавлен в корзину!', 'success');
                
                // Change button text temporarily
                const originalText = this.innerHTML;
                this.innerHTML = '<i class="bi bi-check text-white me-2"></i>Добавлено в корзину';
                this.classList.remove('btn-warning');
                this.classList.add('btn-success');
                
                setTimeout(() => {
                    this.innerHTML = originalText;
                    this.classList.remove('btn-success');
                    this.classList.add('btn-warning');
                }, 2000);
            }
        });
    }
    
    // Interactive hotspots functionality
    const boltContainer = document.querySelector('.bolt-display-container');
    if (boltContainer) {
        boltContainer.addEventListener('mouseenter', function() {
            // Show all hotspots when hovering over the container
            const hotspots = this.querySelectorAll('.hotspot');
            hotspots.forEach(hotspot => {
                hotspot.style.display = 'block';
            });
        });
        
        boltContainer.addEventListener('mouseleave', function() {
            // Hide all hotspots when leaving the container
            const hotspots = this.querySelectorAll('.hotspot');
            hotspots.forEach(hotspot => {
                hotspot.style.display = 'none';
            });
        });
    }
    
    // Scroll animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, observerOptions);
    
    // Observe all animation elements
    document.querySelectorAll('.fade-in, .fade-in-left, .fade-in-right, .scale-in').forEach(el => {
        observer.observe(el);
    });
});
</script>
{% endblock %}
