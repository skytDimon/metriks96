<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}МЕТРИКС - Крепежные изделия в Екатеринбурге{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/images/logo.ico">
    <link rel="shortcut icon" type="image/x-icon" href="/static/images/logo.ico">
    <link rel="apple-touch-icon" href="/static/images/logo.ico">
    <meta name="msapplication-TileImage" content="/static/images/logo.ico">
    <meta name="msapplication-TileColor" content="#FFD700">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="/static/css/style.css" rel="stylesheet">
    <!-- Mobile Modal CSS (загружается после Bootstrap для переопределения) -->
    <link href="/static/css/modal-mobile.css" rel="stylesheet">
    
    {% block extra_head %}{% endblock %}
</head>
<body data-page="{% if request.url.path == '/' %}home{% endif %}">
    <!-- Navigation with integrated contacts -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top border-bottom">
        <div class="container">
            <a class="navbar-brand" href="/">
                <img src="/static/images/logo.png" alt="МЕТРИКС" height="40">
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">О компании</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/catalog">Каталог</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/payment">Доставка и оплата</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-lg-none" href="/#contacts">Контакты</a>
                    </li>
                    <li class="nav-item dropdown position-relative d-none d-lg-block" id="contacts-dropdown">
                        <a class="nav-link" href="/#contacts" id="contacts-link">Контакты</a>
                        <div class="dropdown-menu contacts-dropdown-menu" id="contacts-menu">
                            <div class="px-3 py-2">
                                <div class="d-flex flex-column gap-2">
                                    <a href="tel:+7 (900) 199-39-69" class="text-decoration-none text-dark">
                                        <i class="bi bi-telephone-fill text-primary me-2"></i>+7 (900) 199-39-69
                                    </a>
                                    <a href="tel:+7 (901) 220-02-65" class="text-decoration-none text-dark">
                                        <i class="bi bi-telephone-fill text-primary me-2"></i>+7 (901) 220-02-65
                                    </a>
                                    <a href="tel:+7 (343) 361-61-31" class="text-decoration-none text-dark">
                                        <i class="bi bi-telephone-fill text-primary me-2"></i>+7 (343) 361-61-31
                                    </a>
                                    <a href="mailto:metriks66@bk.ru" class="text-decoration-none text-dark">
                                        <i class="bi bi-envelope-fill text-primary me-2"></i>metriks66@bk.ru
                                    </a>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
                
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link position-relative d-flex align-items-center" href="/cart">
                            <i class="bi bi-cart3 fs-5"></i>
                            <span class="d-md-none ms-2">Корзина</span>
                            <span class="badge rounded-pill bg-danger ms-2" id="cart-count">
                                0
                            </span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Contact Bar - only on homepage -->
    <div class="bg-light border-bottom py-2 contact-bar-homepage" id="contact-bar">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-12 col-md-8">
                    <div class="d-flex flex-wrap gap-2 gap-md-3 justify-content-center justify-content-md-start">
                        <a href="tel:+7 (900) 199-39-69" class="text-decoration-none text-dark small">
                            <i class="bi bi-telephone-fill text-primary me-1"></i>+7 (900) 199-39-69
                        </a>
                        <a href="tel:+7 (901) 220-02-65" class="text-decoration-none text-dark small">
                            <i class="bi bi-telephone-fill text-primary me-1"></i>+7 (901) 220-02-65
                        </a>
                        <a href="tel:+7 (343) 361-61-31" class="text-decoration-none text-dark small">
                            <i class="bi bi-telephone-fill text-primary me-1"></i>+7 (343) 361-61-31
                        </a>
                    </div>
                </div>
                <div class="col-12 col-md-4 text-center text-md-end mt-2 mt-md-0">
                    <a href="mailto:metriks66@bk.ru" class="text-decoration-none text-dark small">
                        <i class="bi bi-envelope-fill text-primary me-1"></i>metriks66@bk.ru
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-light py-5 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <a href="/" class="text-decoration-none">
                        <img src="/static/images/logo.png" alt="МЕТРИКС" height="30">
                    </a>
                    <p class="text-light-emphasis">
                        Компания по поставке крепежа и метизов в Екатеринбурге. 
                        Широкий ассортимент, доступные цены!
                    </p>
                </div>
                <div class="col-lg-2 col-md-6 col-6 mb-4">
                    <h6 class="fw-bold mb-3">Навигация</h6>
                    <ul class="list-unstyled">
                        <li><a href="/" class="text-light-emphasis text-decoration-none">О компании</a></li>
                        <li><a href="/catalog" class="text-light-emphasis text-decoration-none">Каталог</a></li>
                        <li><a href="/payment" class="text-light-emphasis text-decoration-none">Доставка</a></li>
                        <li><a href="/#contacts" class="text-light-emphasis text-decoration-none">Контакты</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6 d-none d-md-block mb-4">
                    <h6 class="fw-bold mb-3">Категории</h6>
                    <ul class="list-unstyled">
                        <li><a href="/catalog?category=1" class="text-light-emphasis text-decoration-none">Болты</a></li>
                        <li><a href="/catalog?category=2" class="text-light-emphasis text-decoration-none">Гайки</a></li>
                        <li><a href="/catalog?category=3" class="text-light-emphasis text-decoration-none">Винты</a></li>
                        <li><a href="/catalog?category=5" class="text-light-emphasis text-decoration-none">Шайбы</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6 col-6 mb-4">
                    <h6 class="fw-bold mb-3">Контакты</h6>
                    <div class="text-light-emphasis">
                        <p class="mb-1"><i class="bi bi-telephone-fill me-2"></i>+7 (900) 199-39-69</p>
                        <p class="mb-1"><i class="bi bi-envelope-fill me-2"></i>metriks66@bk.ru</p>
                        <p class="mb-0"><i class="bi bi-geo-alt-fill me-2"></i>г. Екатеринбург, 40 лет Комсомола, 1А</p>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-2 mb-md-0">
                    <p class="mb-0 text-light-emphasis">&copy; 2024 МЕТРИКС. Все права защищены.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="mb-0 text-light-emphasis">Крепежные изделия в Екатеринбурге</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="/static/js/app.js"></script>
    
    {% block extra_scripts %}{% endblock %}
</body>
</html>
